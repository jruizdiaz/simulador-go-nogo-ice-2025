/* Themed dark UI with per-scenario brand color and avatars */
:root{
  --bg:#0b0b0c; --panel:#111; --border:#222; --muted:#9a9a9c;
  --bot:#1a1a1b; --user:#1f3a5c; --brand:#4f7cff; --link:#cddcff;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,Arial,sans-serif;background:var(--bg);color:#f2f2f2}
a{color:var(--link);text-decoration:none}
header{position:sticky;top:0;background:var(--bg);border-bottom:2px solid var(--brand);padding:16px 20px}
.container{max-width:1100px;margin:0 auto;padding:20px}
.grid{display:grid;gap:16px}
.cards{grid-template-columns:repeat(3,minmax(240px,1fr))}
@media(max-width:900px){.cards{grid-template-columns:1fr}}
.card{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:10px}
.badge{font-size:12px;padding:4px 8px;border:1px solid var(--brand);border-radius:999px}
.row{display:flex;gap:12px;flex-wrap:wrap}
.col{flex:1;min-width:320px}
.panel{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:16px}
#chat{height:480px;overflow:auto;background:#0f0f10;border:1px solid var(--border);border-radius:12px;padding:12px}
.msg{margin:10px 0;max-width:80%;line-height:1.45}
.user{text-align:right;margin-left:auto}
.bubble{display:inline-block;padding:10px 12px;border-radius:12px;white-space:pre-wrap}
.bubble.bot{background:var(--bot);border:1px solid #2a2a2b}
.bubble.user{background:var(--user)}
.small{font-size:12px;color:var(--muted)}
input,textarea,button,select{background:#0f0f10;color:#f2f2f2;border:1px solid var(--border);border-radius:10px;padding:10px}
button{cursor:pointer;border:1px solid var(--brand)}
.kpi{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media(max-width:800px){.kpi{grid-template-columns:1fr}}

/* Avatar circle */
.avatar{
  width:56px;height:56px;border-radius:50%;
  background-image: var(--avatar-url);
  background-size: 400% auto; /* sprite of 4 faces */
  background-position: var(--avatar-pos, 0% 50%);
  border:2px solid var(--brand);
  box-shadow:0 0 0 2px rgba(0,0,0,.3);
  display:inline-block;margin-right:10px;vertical-align:middle;
}
.title-row{display:flex;align-items:center;gap:10px}
h3,h4,strong{color:#fff}
